(this.webpackJsonpquodai=this.webpackJsonpquodai||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),i=n.n(s),a=n(11),r=n.n(a),u=(n(19),n(3)),o=Object(s.createContext)(),l=function(e){var t=e.reducer,n=e.initialState,i=e.children;return Object(c.jsx)(o.Provider,{value:Object(s.useReducer)(t,n),children:i})},d=function(){return Object(s.useContext)(o)};n(20);var h=function(){var e=Object(s.useState)(!1),t=Object(u.a)(e,2),n=t[0],i=t[1],a=d(),r=Object(u.a)(a,2),o=r[0].highlightedIssues;return r[1],Object(s.useEffect)((function(){setTimeout((function(){document.querySelector(".header__notification__count").classList.remove("noti")}),500),document.querySelector(".header__notification__count").classList.add("noti")}),[o]),Object(c.jsx)("div",{className:"header",children:Object(c.jsxs)("div",{className:"header__notification",children:[Object(c.jsx)("i",{className:"far fa-bell",onClick:function(){return i(!n)},children:Object(c.jsx)("div",{className:"header__notification__count",children:null===o||void 0===o?void 0:o.length})}),n&&Object(c.jsx)("div",{className:"header__notification__list",children:Object(c.jsx)("ul",{children:null===o||void 0===o?void 0:o.map((function(e){return Object(c.jsxs)("li",{children:["[#",e.id,"] - ",e.title]},e.id)}))})})]})})},j=n(2),b=n.n(j),_=n(4),f=n(12);"production"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL_DOMAIN:"https://api.github.com",REACT_APP_NUM_HIGHLIGHTED_ISSUES_SHOW:"5",REACT_APP_DEFAULT_CURRENT_PAGE:"1",REACT_APP_PER_PAGE:"5"}).REACT_ENV&&n(22).config();var O={DEFAULT_CURRENT_PAGE:parseInt("1"),PER_PAGE:parseInt("5")},v="https://api.github.com",g=n(13),p=n.n(g);function E(){return m.apply(this,arguments)}function m(){return(m=Object(_.a)(b.a.mark((function e(){var t,n,c,s=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"GET",n=s.length>1&&void 0!==s[1]?s[1]:"",e.prev=2,e.next=5,fetch(n,{method:t,mode:"cors"});case 5:return c=e.sent,e.abrupt("return",c.json());case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),alert("[".concat(e.t0.statusCode,"] ").concat(e.t0.response.message)),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var x={ISSUES:{PATH:"/repos/rails/rails/issues",METHOD:"GET"}},S=function(){var e=Object(_.a)(b.a.mark((function e(){var t,n,c,s,i=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:O.DEFAULT_CURRENT_PAGE,n=i.length>1&&void 0!==i[1]?i[1]:O.PER_PAGE,c=p.a.stringify({page:t,per_page:n}),e.next=5,E(x.ISSUES.METHOD,v+x.ISSUES.PATH+"?"+c);case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n(26);var T=function(){var e=d(),t=Object(u.a)(e,2);Object(f.a)(t[0]);var n=t[1],i=Object(s.useState)([]),a=Object(u.a)(i,2),r=a[0],o=a[1],l=Object(s.useState)(O.DEFAULT_CURRENT_PAGE),h=Object(u.a)(l,2),j=h[0],v=h[1],g=Object(s.useState)(O.DEFAULT_CURRENT_PAGE),p=Object(u.a)(g,2),E=p[0],m=p[1];return Object(s.useEffect)((function(){try{(function(){var e=Object(_.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(E);case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}catch(e){console.log(e)}}),[E]),Object(c.jsxs)("div",{className:"body",children:[Object(c.jsxs)("div",{className:"issues-list",children:[Object(c.jsx)("div",{className:"issues-list__header",children:Object(c.jsx)("h2",{children:"Issues list"})}),Object(c.jsx)("div",{className:"issues-list__body",children:Object(c.jsx)("ul",{children:null===r||void 0===r?void 0:r.map((function(e){return Object(c.jsxs)("li",{className:"".concat(e.id),onClick:function(){return function(e){var t,c=document.getElementsByClassName("".concat(e.id))[0];c.className.includes("highlighted")?c.classList.remove("highlighted"):(null===(t=document.querySelector(".highlighted"))||void 0===t||t.classList.remove("highlighted"),c.classList.add("highlighted")),n({type:"SET_HIGHLIGHTED_ISSUES",highlightedIssues:e})}(e)},children:[Object(c.jsxs)("div",{className:"issues-list__body__title",children:[Object(c.jsx)("i",{className:"fa fa-exclamation",style:{color:"open"===e.state?"#499b5d":"red"}}),Object(c.jsx)("h3",{children:e.title})]}),Object(c.jsxs)("div",{className:"issues-list__body__detail",children:["#",e.id]})]},e.id)}))})})]}),Object(c.jsx)("div",{className:"issues-page",children:Object(c.jsxs)("div",{className:"issues-page__control",children:[Object(c.jsxs)("button",{disabled:1===E,onClick:function(){E-1<1?(m(1),v(1)):(m(E-1),v(E-1))},children:[Object(c.jsx)("i",{className:"fa fa-angle-double-left"})," Previous"]}),Object(c.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),j<=0)return alert("Page must be greater than 0");m(j)},children:Object(c.jsx)("input",{name:"page",value:j,onChange:function(e){if(!e.target.value)return v("");v(parseInt(e.target.value))}})}),Object(c.jsxs)("button",{onClick:function(){return m(E+1),void v(E+1)},children:["Next ",Object(c.jsx)("i",{className:"fa fa-angle-double-right"})]})]})})]})};var N=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(h,{}),Object(c.jsx)(T,{})]})},P=n(8),A=n(9),I=function(e,t){switch(t.type){case"SET_HIGHLIGHTED_ISSUES":return Object(A.a)(Object(A.a)({},e),{},{highlightedIssues:Object(P.a)(new Set([t.highlightedIssues].concat(Object(P.a)(e.highlightedIssues)))).slice(0,"5")});default:return e}},C=(n(27),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),i(e),a(e)}))});r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(l,{initialState:{highlightedIssues:[]},reducer:I,children:Object(c.jsx)(N,{})})}),document.getElementById("root")),C()}},[[28,1,2]]]);
//# sourceMappingURL=main.52b85f7f.chunk.js.map