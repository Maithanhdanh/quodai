(this.webpackJsonpquodai=this.webpackJsonpquodai||[]).push([[0],{22:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),s=n.n(i),r=n(11),a=n.n(r),u=n(2);"production"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL_DOMAIN:"https://api.github.com",REACT_APP_NUM_HIGHLIGHTED_ISSUES_SHOW:"5",REACT_APP_DEFAULT_CURRENT_PAGE:"1",REACT_APP_PER_PAGE:"5"}).REACT_ENV&&n(19).config();var o={DEFAULT_CURRENT_PAGE:parseInt("1"),PER_PAGE:parseInt("5")},l="https://api.github.com",d=Object(i.createContext)(),j=function(e){var t=e.reducer,n=e.initialState,s=e.children;return Object(c.jsx)(d.Provider,{value:Object(i.useReducer)(t,n),children:s})},b=function(){return Object(i.useContext)(d)},h=function(e,t){var n=function(n){e.current&&!e.current.contains(n.target)&&t()};Object(i.useEffect)((function(){return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}))};n(22);var f=function(){var e=b(),t=Object(u.a)(e,2),n=t[0].highlightedIssues,s=(t[1],Object(i.useState)((null===n||void 0===n?void 0:n.length)||0)),r=Object(u.a)(s,2),a=r[0],o=r[1],l=Object(i.useState)(!1),d=Object(u.a)(l,2),j=d[0],f=d[1],O=Object(i.useState)(!1),_=Object(u.a)(O,2),v=_[0],E=_[1],p=Object(i.useState)(!1),S=Object(u.a)(p,2),g=S[0],x=S[1],m=Object(i.useRef)();h(m,(function(){return T()})),Object(i.useEffect)((function(){setTimeout((function(){x(!1)}),500),x(!0)}),[n]),Object(i.useEffect)((function(){return 0===n.length?null:(E(!0),a+1>"5"?o("5"):void o(a+1))}),[n]);var T=function(){f(!j),E(!1),o(0)};return Object(c.jsx)("div",{className:"header",children:Object(c.jsxs)("div",{className:"header__notification",children:[Object(c.jsx)("i",{className:"far fa-bell",onClick:function(){return f(!j),E(!1),void o(0)},children:v&&Object(c.jsx)("div",{className:"header__notification__count ".concat(g&&"noti"),children:a})}),j&&Object(c.jsx)("div",{className:"header__notification__list",ref:m,children:Object(c.jsx)("ul",{children:null===n||void 0===n?void 0:n.map((function(e){return Object(c.jsxs)("li",{children:["[#",e.id,"] - ",e.title]},e.id)}))})})]})})},O=n(3),_=n.n(O),v=n(4),E=n(12),p=n(13),S=n.n(p);function g(){return x.apply(this,arguments)}function x(){return(x=Object(v.a)(_.a.mark((function e(){var t,n,c,i=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"GET",n=i.length>1&&void 0!==i[1]?i[1]:"",e.prev=2,e.next=5,fetch(n,{method:t,mode:"cors"});case 5:return c=e.sent,e.abrupt("return",c.json());case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),alert("[".concat(e.t0.statusCode,"] ").concat(e.t0.response.message)),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var m={ISSUES:{PATH:"/repos/rails/rails/issues",METHOD:"GET"}},T=function(){var e=Object(v.a)(_.a.mark((function e(){var t,n,c,i,s=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:o.DEFAULT_CURRENT_PAGE,n=s.length>1&&void 0!==s[1]?s[1]:o.PER_PAGE,c=S.a.stringify({page:t,per_page:n}),e.next=5,g(m.ISSUES.METHOD,l+m.ISSUES.PATH+"?"+c);case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n(25);var N=function(){var e=b(),t=Object(u.a)(e,2);Object(E.a)(t[0]);var n=t[1],s=Object(i.useState)([]),r=Object(u.a)(s,2),a=r[0],l=r[1],d=Object(i.useState)(o.DEFAULT_CURRENT_PAGE),j=Object(u.a)(d,2),h=j[0],f=j[1],O=Object(i.useState)(null),p=Object(u.a)(O,2),S=p[0],g=p[1],x=Object(i.useState)(o.DEFAULT_CURRENT_PAGE),m=Object(u.a)(x,2),N=m[0],I=m[1];return Object(i.useEffect)((function(){try{(function(){var e=Object(v.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(N);case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}catch(e){console.log(e)}}),[N]),Object(i.useEffect)((function(){g(null)}),[a]),Object(c.jsxs)("div",{className:"body",children:[Object(c.jsxs)("div",{className:"issues-list",children:[Object(c.jsx)("div",{className:"issues-list__header",children:Object(c.jsx)("h2",{children:"Issues list"})}),Object(c.jsx)("div",{className:"issues-list__body",children:Object(c.jsx)("ul",{children:null===a||void 0===a?void 0:a.map((function(e){return Object(c.jsxs)("li",{className:"".concat(e.id," ").concat(S===e.id&&"highlighted"),onClick:function(){return function(e){S===e.id?g(null):g(e.id),n({type:"SET_HIGHLIGHTED_ISSUES",highlightedIssues:e})}(e)},children:[Object(c.jsxs)("div",{className:"issues-list__body__title",children:[Object(c.jsx)("i",{className:"fa fa-exclamation",style:{color:"open"===e.state?"#499b5d":"red"}}),Object(c.jsx)("h3",{children:e.title})]}),Object(c.jsxs)("div",{className:"issues-list__body__detail",children:["#",e.id]})]},e.id)}))})})]}),Object(c.jsx)("div",{className:"issues-page",children:Object(c.jsxs)("div",{className:"issues-page__control",children:[Object(c.jsxs)("button",{disabled:1===N,onClick:function(){N-1<1?(I(1),f(1)):(I(N-1),f(N-1))},children:[Object(c.jsx)("i",{className:"fa fa-angle-double-left"})," Previous"]}),Object(c.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),h<=0)return alert("Page must be greater than 0");I(h)},children:Object(c.jsx)("input",{name:"page",value:h,onChange:function(e){if(!e.target.value)return f("");f(parseInt(e.target.value))}})}),Object(c.jsxs)("button",{onClick:function(){return I(N+1),void f(N+1)},children:["Next ",Object(c.jsx)("i",{className:"fa fa-angle-double-right"})]})]})})]})};n(26);var I=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(f,{}),Object(c.jsx)(N,{})]})},P=n(9),A=n(6),C=function(e,t){switch(t.type){case"SET_HIGHLIGHTED_ISSUES":return Object(A.a)(Object(A.a)({},e),{},{highlightedIssues:Object(P.a)(new Set([t.highlightedIssues].concat(Object(P.a)(e.highlightedIssues)))).slice(0,"5")});case"RESET_HIGHLIGHTED_ISSUES":return Object(A.a)(Object(A.a)({},e),{},{newNotiCount:0});default:return e}},R=(n(27),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),s(e),r(e)}))});a.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(j,{initialState:{highlightedIssues:[],newNotiCount:0},reducer:C,children:Object(c.jsx)(I,{})})}),document.getElementById("root")),R()}},[[28,1,2]]]);
//# sourceMappingURL=main.e41359a9.chunk.js.map